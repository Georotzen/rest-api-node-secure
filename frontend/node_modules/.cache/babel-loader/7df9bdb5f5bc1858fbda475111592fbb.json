{"ast":null,"code":"var _jsxFileName = \"/Users/Home/github/rest-api-node-react/frontend/src/Components/LoginPage.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory, useLocation } from 'react-router-dom';\nexport const LoginPage = props => {\n  let state = {\n    email: '',\n    password: ''\n  };\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  let url = props.baseUrl + '/auth/login';\n  let location = useLocation();\n  let history = useHistory(); // Create a cookie with the JWT\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    axios.post(url, state).then(res => {\n      console.log(res); // localStorage.setItem(\"my_cookie\", res.data);\n\n      document.cookie = 'my-token=' + res.data.token + '; max-age=60;';\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  ;\n\n  function handleOnChange(event) {// setState({\n    //   [event.target.name]: event.target.value\n    // });\n  }\n\n  ;\n\n  function handleOnClick() {\n    console.log(history);\n    console.log(location);\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Login to your account:\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    placeholder: \"freddie.mercury@gmail.com\",\n    size: \"35\",\n    value: state.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    placeholder: \"queen_rox\",\n    size: \"35\",\n    value: state.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onClick: handleOnClick,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/Home/github/rest-api-node-react/frontend/src/Components/LoginPage.js"],"names":["React","useState","axios","useHistory","useLocation","LoginPage","props","state","email","password","setEmail","setPassword","url","baseUrl","location","history","handleSubmit","event","preventDefault","post","then","res","console","log","document","cookie","data","token","catch","error","handleOnChange","handleOnClick"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AAEA,OAAO,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAClC,MAAIC,KAAK,GAAG;AACVC,IAAAA,KAAK,EAAE,EADG;AAEVC,IAAAA,QAAQ,EAAE;AAFA,GAAZ;AAIA,QAAM,CAACD,KAAD,EAAQE,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,QAAD,EAAWE,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AAEA,MAAIW,GAAG,GAAGN,KAAK,CAACO,OAAN,GAAgB,aAA1B;AACA,MAAIC,QAAQ,GAAGV,WAAW,EAA1B;AACA,MAAIW,OAAO,GAAGZ,UAAU,EAAxB,CAVkC,CAYpC;;AACE,WAASa,YAAT,CAAsBC,KAAtB,EAA4B;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACAhB,IAAAA,KAAK,CAACiB,IAAN,CAAWP,GAAX,EAAgBL,KAAhB,EACGa,IADH,CACSC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADa,CAEb;;AACAG,MAAAA,QAAQ,CAACC,MAAT,GAAkB,cAAYJ,GAAG,CAACK,IAAJ,CAASC,KAArB,GAA2B,eAA7C;AACD,KALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChBP,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACD,KARH;AASD;;AAAA;;AAED,WAASC,cAAT,CAAwBb,KAAxB,EAA8B,CAC5B;AACA;AACA;AACD;;AAAA;;AAED,WAASc,aAAT,GAAwB;AACtBT,IAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACD;;AAAA;AAEC,sBACE;AAAM,IAAA,QAAQ,EAAEE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAqB,IAAA,WAAW,EAAC,2BAAjC;AAA6D,IAAA,IAAI,EAAC,IAAlE;AAAuE,IAAA,KAAK,EAAET,KAAK,CAACC,KAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAME;AAAQ,IAAA,IAAI,EAAC,UAAb;AAAwB,IAAA,WAAW,EAAC,WAApC;AAAgD,IAAA,IAAI,EAAC,IAArD;AAA0D,IAAA,KAAK,EAAED,KAAK,CAACE,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE;AAAO,IAAA,OAAO,EAAEsB,aAAhB;AAA+B,IAAA,IAAI,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAYH,CAjDM","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const LoginPage = (props) => {\n  let state = {\n    email: '',\n    password: ''\n  };\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  let url = props.baseUrl + '/auth/login';\n  let location = useLocation();\n  let history = useHistory();\n\n// Create a cookie with the JWT\n  function handleSubmit(event){\n    event.preventDefault();\n    axios.post(url, state)\n      .then((res) => {\n        console.log(res);\n        // localStorage.setItem(\"my_cookie\", res.data);\n        document.cookie = 'my-token='+res.data.token+'; max-age=60;';\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  function handleOnChange(event){\n    // setState({\n    //   [event.target.name]: event.target.value\n    // });\n  };\n\n  function handleOnClick(){\n    console.log(history);\n    console.log(location);\n  };\n\n    return(\n      <form onSubmit={handleSubmit}>\n        <h1>Login to your account:</h1>\n        <label>Email: </label>\n        <input  name=\"email\" placeholder=\"freddie.mercury@gmail.com\" size=\"35\" value={state.email}/>\n        <br/>\n        <label>Password: </label>\n        <input  name=\"password\" placeholder=\"queen_rox\" size=\"35\" value={state.password}/>\n        <br/>\n        <input onClick={handleOnClick} type='submit'/>\n      </form>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}