{"ast":null,"code":"var _jsxFileName = \"/Users/Home/github/rest-api-node-react/frontend/src/Components/LoginPage.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\nexport const LoginPage = props => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  let url = props.baseUrl + '/auth/login';\n  let location = useLocation();\n  let history = useHistory();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  }; // Create a cookie with the JWT\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    axios.post(url, {\n      email,\n      password\n    }).then(res => {\n      console.log(res); // localStorage.setItem(\"my_cookie\", res.data);\n\n      document.cookie = 'my-token=' + res.data.token + '; max-age=60;';\n      history.push(from);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  ;\n\n  function handleOnChange(event) {\n    if (event.target.name === 'email') {\n      setEmail(event.target.value);\n    }\n\n    ;\n\n    if (event.target.name === 'password') {\n      setPassword(event.target.value);\n    }\n\n    ;\n  }\n\n  ; // function handleOnClick(){\n  //   console.log('Buttob');\n  //   console.log(from);\n  //   console.log(history);\n  //\n  //   console.log(history);\n  // }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Login to your account:\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleOnChange,\n    name: \"email\",\n    placeholder: \"freddie.mercury@gmail.com\",\n    size: \"35\",\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleOnChange,\n    name: \"password\",\n    placeholder: \"queen_rox\",\n    size: \"35\",\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Log in\"));\n};","map":{"version":3,"sources":["/Users/Home/github/rest-api-node-react/frontend/src/Components/LoginPage.js"],"names":["React","useState","axios","Redirect","useHistory","useLocation","LoginPage","props","email","setEmail","password","setPassword","url","baseUrl","location","history","from","state","pathname","handleSubmit","event","preventDefault","post","then","res","console","log","document","cookie","data","token","push","catch","error","handleOnChange","target","name","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport {Redirect,\n        useHistory,\n        useLocation} from 'react-router-dom';\n\nexport const LoginPage = (props) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  let url = props.baseUrl + '/auth/login';\n  let location = useLocation();\n  let history = useHistory();\n  let {from} = location.state || { from: { pathname: \"/\" } };\n\n// Create a cookie with the JWT\n  function handleSubmit(event){\n    event.preventDefault();\n    axios.post(url, {email, password})\n      .then((res) => {\n        console.log(res);\n        // localStorage.setItem(\"my_cookie\", res.data);\n        document.cookie = 'my-token='+res.data.token+'; max-age=60;';\n        history.push(from);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  function handleOnChange(event){\n    if (event.target.name === 'email'){\n      setEmail(event.target.value);\n    };\n    if (event.target.name === 'password'){\n      setPassword(event.target.value);\n    };\n  };\n\n  // function handleOnClick(){\n  //   console.log('Buttob');\n  //   console.log(from);\n  //   console.log(history);\n  //\n  //   console.log(history);\n  // }\n\n    return(\n      <form onSubmit={handleSubmit}>\n        <h1>Login to your account:</h1>\n        <label>Email: </label>\n        <input onChange={handleOnChange} name=\"email\" placeholder=\"freddie.mercury@gmail.com\" size=\"35\" value={email}/>\n        <br/>\n        <label>Password: </label>\n        <input onChange={handleOnChange} name=\"password\" placeholder=\"queen_rox\" size=\"35\" value={password}/>\n        <br/>\n        <button type='button'>Log in</button>\n      </form>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}